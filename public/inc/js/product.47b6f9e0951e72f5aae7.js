!function(e){function t(o){if(n[o])return n[o].exports;var c=n[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,t),c.l=!0,c.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/inc/",t(t.s="q7wr")}({S7Ff:function(e,t){document.app.Product={addToStockEvent:function(){var e=document.querySelector("#addproduct"),t=document.querySelector("#removeproduct"),n=document.querySelector("#nbproductfield");e&&document.app.Util.addListener(e,"click",function(){var e=document.querySelector("#nbproduct");n.value=parseInt(n.value)+1,e.innerHTML=n.value}),t&&document.app.Util.addListener(t,"click",function(){var e=document.querySelector("#nbproduct");n.value>1&&(n.value=n.value-1,e.innerHTML=n.value)})},addToStock:function(e){document.querySelector("#expire").value="",document.querySelector("#nbproduct").innerHTML=1,document.querySelector("#nbproductfield").value=1,document.app.toastResult=M.toast({html:e.nbproductfield+" x "+e.name+'<button class="btn-flat toast-action" onclick="document.app.Util.doAjax(document.app.url.cancelAddToStock,{ data : data },document.app.Product.cancelAddToStock);">CANCEL</button>',displayLength:7e3,classes:"green"})},cancelAddToStock:function(e){document.app.toastResult=M.toast({html:e.qte+" x "+e.name+" <br> has been canceled",displayLength:7e3,classes:"orange accent-2"})},removeFromStock:function(e){document.app.toastResult=M.toast({html:"removed "+e.name+'<button class="btn-flat toast-action" onclick="document.app.Util.doAjax(document.app.url.cancelRemoveFromStock,{ id: '+e.id+' },document.app.Product.cancelRemoveFormStock);">CANCEL</button>',displayLength:7e3,classes:"green",completeCallback:function(){document.app.Product.cancelCurrent.remove()}})},cancelRemoveFormStock:function(e){document.app.Product.cancelCurrent.cancel(),document.app.toastResult=M.toast({html:"Removed "+e.name+" <br> has been canceled",displayLength:7e3,classes:"orange accent-2"})},cancelCurrent:{obj:null,nbProduct:null,expires:null,selectExpire:null,set:function(e,t,n,o){this.obj=e,this.nbProduct=t,this.expires=n.reverse(),this.selectExpire=o},cancel:function(){if(this.obj.innerHTML=this.nbProduct,this.selectExpire)for(expire in this.expires)this.selectExpire.insertAdjacentHTML("afterbegin",'<option value="'+this.expires[expire]+'">'+this.expires[expire]+"</option>");document.app.Product.list.init(),this.obj=null,this.nbProduct=null,this.expires=null},remove:function(){this.obj&&parseInt(this.obj.innerHTML)<=0&&this.obj.parentNode.parentNode.parentNode.parentNode.removeChild(this.obj.parentNode.parentNode.parentNode)}},removeProduct:function(e){document.app.Util.preventPropagation(e);var t=this.parentNode.parentNode.querySelector(".nbProduct"),n=parseInt(t.innerHTML),o=this.parentNode.parentNode.querySelector(".select-dropdown"),c=this.parentNode.parentNode.querySelector("select"),r=o.value.split(", ").filter(function(e){return""!==e});if(n>0&&r.length>0){if(c){for(date in r)c.remove(c.querySelector('option[value="'+r[date]+'"]').index);c.querySelector("option").selected=!0}document.app.Product.cancelCurrent.set(t,n,r,c),t.innerHTML=parseInt(n)+-1*r.length,document.app.Product.list.init(),document.app.Util.doAjax(document.app.url.removeFromStock,{barcode:this.parentNode.parentNode.querySelector(".barcode").value,expire:r},document.app.Product.removeFromStock)}},list:{init:function(){this.initEvents()},initEvents:function(){document.app.Util.addListenerAll(document.querySelectorAll(".collapsible .actionbtn .btn-floating"),"click",document.app.Util.preventPropagation),document.app.Util.addListenerAll(document.querySelectorAll(".collapsible .actionbtn .btn-floating.btnRemove"),"click",document.app.Product.removeProduct),this.initSelects()},initSelects:function(){M.FormSelect.init(document.querySelectorAll("select")),document.app.Util.addListenerAll(document.querySelectorAll(".select-dropdown"),"click",document.app.Util.preventPropagation);var e=document.querySelectorAll(".dropdown-content LI.disabled");document.app.Util.addListenerAll(e,"click",this.closeSelect)},closeSelect:function(e){document.app.Product.list.init()}}},document.app.Product.list.init(),document.app.Product.addToStockEvent()},q7wr:function(e,t,n){n("S7Ff")}});